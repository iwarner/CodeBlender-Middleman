-##
-# Carousel
-#
-# @author Ian Warner <ian.warner@drykiss.com>
-##

-# Default ID
- if ! locals[ :id ]
    - id = "myCarousel"

-# Carousel
.carousel.slide{ :id    => id,
                 :class => id,
                 :data  => locals[ :data ] ? locals[ :data ] : false }

    -# Indicators
    - if locals[ :indicator ]

        %ol.carousel-indicators

            -# Array Loop
            - array.each_with_index do | slide, i |

                -# If this is the first one make it active
                %li{ :class => i == 0 ? "active" : false,
                     :data  => { :target     => "." + id,
                                 :"slide-to" => i } }

    -# Inner Content
    .carousel-inner

        -# Array Loop
        - array.each_with_index do | slide, i |

            -# If this is the first one make it active
            .item{ :class => i == 0 ? "active" : false }

                -# Image
                - if slide[ :image ]

                    -# Overides
                    - if ! slide[ :image ][ :alt ]
                        - slide[ :image ][ :alt ] = "Carousel #{ i }"

                    -# Image
                    = partial "bootstrap/css/image", :locals => slide[ :image ]

                -# Caption
                - if slide[ :caption ]

                    -# Caption
                    .carousel-caption
                        = slide[ :caption ]

    -# Controls
    - if locals[ :control ]

        -# Prev Left Control
        = link_to( ".#{ id }", :class => "carousel-control left", :data => { :slide => "prev" }, :role => "button" ) do
            %span.fa.fa-chevron-left

        -# Next Right Control
        = link_to( ".#{ id }", :class => "carousel-control right", :data => { :slide => "next" }, :role => "button" ) do
            %span.fa.fa-chevron-right