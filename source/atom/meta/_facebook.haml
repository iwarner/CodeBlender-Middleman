-##
-# Facebook meta tags
-# Yielded content will take precedence over front matter and stub
-#
-# Site config
-#     brand
-#     url
-#     facebookPageId
-#
-# Page front matter
-#     type
-#     image
-#     title
-#     description
-#
-# @author   Ian Warner <ian.warner@drykiss.com>
-# @category meta
-# @see      https://developers.facebook.com/docs/sharing/best-practices#images
-##

-# Current page data
- cp = current_page.data.meta

-# Front matter meta
- if cp
    - m = current_page.data.meta

    -# Stub meta
- else
    - m = "meta.#{ current_page.data.stub }"

-# URL
- url = t( :url ) + current_page.url

-##
-# Dynamic content
-##

-# Title
%meta{ content: content_for?( :metaTitle ) ? yield_content( :metaTitle ) : cp ? string( m.title ) : string( :"#{ m }.title" ), property: "og:title" }

-# Description
%meta{ content: content_for?( :metaDescription ) ? yield_content( :metaDescription ) : cp ? string( m.description ) : string( :"#{ m }.description" ), name: "description", property: "og:description" }

-# Image
%meta{ content: content_for?( :metaImage ) ? yield_content( :metaImage ) : cp ? string( m.image ) : string( :"#{ m }.image" ), property: "og:image" }

-##
-# Static content pulled from locale
-##

-# Site name
%meta{ content: t( :"meta.siteName" ), property: "og:site_name" }

-# Type
%meta{ content: cp ? string( m.type ) : string( :"#{ m }.type" ), property: "og:type" }

-# URL
-# Should be the same as the Canonical URL
%meta{ content: url, property: "og:url" }

-# Page ID
- if data.facebook.page.id
    %meta{ content: data.facebook.page.id, property: "fb:page_id" }

-# App ID
- appID = data.facebook.app.id

- if appID

    -# App ID
    - appID = ( appID == "locale" ) ?  t( :"facebook.app.id" ) : appID

    %meta{ content: appID, property: "fb:app_id" }

-# Locale
%meta{ content: t( :localeFacebook ), property: "og:locale" }
